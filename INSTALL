# Rainbow, a termination proof certification tool
# See the COPYRIGHTS and LICENSE files.

The compilation procedure that is provided requires a UNIX-like
operating system (Linux or Cygwin) with the following tools:

- GNU make version 3.81 http://www.gnu.org/software/make/
- OCaml version 4.01.0 http://caml.inria.fr/
- Coq version 8.4pl4 http://coq.inria.fr/
- CoLoR SVN https://gforge.inria.fr/projects/color/
- GNU bash version 4.2.45 http://www.gnu.org/software/bash/
- GNU sed version 4.2.1 http://www.gnu.org/software/sed/

------------------------------------------------------------------------------
Compilation procedure for the new version of Rainbow:

Let $color_dir be the directory where CoLoR is installed.

1) Do "./configure $color_dir"

to extract the Coq CoLoR library to OCaml and compile it.

2) Do "make new"

"new_convert" is the new Rainbow program based on extraction. In
addition to the functionalities of "convert", it can directly check
the correctness of a certificate without calling Coq.

3) Command for checking a CPF file:

  new_convert -icpf file.cpf -obool

------------------------------------------------------------------------------
Compilation procedure for the old version of Rainbow (currently broken):

0) use CoLoR SVN revision 1983?

1) Do "make"

"convert" is the old Rainbow program not based on extraction. It
allows you to convert one problem/proof file from one format to
another one. Do "convert -h" to learn how to use it.

2) Add the following line to your ~/.coqrc file:

Add Rec LoadPath "$color_dir" as CoLoR.

to be able to check in Coq scripts generated by Rainbow.

3) Command for checking a CPF file:

  convert -icpf file.cpf -ocoq > file.v && coqc file.v

Or: scripts/check_coq file.cpf

------------------------------------------------------------------------------
We also provide some scripts in the scripts/ directory like:

- rename_tpdb: rename TPDB/CPF files to get valid Coq filenames

Various examples are provided in the directory examples/.
Do "make examples" to compile them.

If you encounter any problem, send a mail to Frederic Blanqui
(firstname.name@inria.fr).
